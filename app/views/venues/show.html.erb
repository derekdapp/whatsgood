<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
<h1><%= @venue.name %></h1>
<p><%= @venue.description %></p>
<ul>
  <li>Type: <%= @venue.venue_type %></li>
  <li>Genre: <%= @venue.genre %></li>
  <li>Start Time: <%= @venue.phone %></li>
  <li>Runtime: <%= @venue.email %></li>
  <li>Website: <%= @venue.website %></li>
  <li>Address: <%= @venue.address %></li>
</ul>
<!-- <p>Test if lat lon are getting grabbed
LAT: <%= @venue.latitude %>
LON: <%= @venue.longitude %>
</p> -->
<!-- Sliding in a break for nearby venues -->
<h3>Nearby Venues</h3>
<ul>
<% @loc = @venue.nearbys(10)%>
<% @loc.each do |location| %>
  <li><%= link_to location.name, location %> (<%= location.distance.round(2) %> miles)</li>
<% end %>
</ul>
<ul>
<!-- <li><%=@secondhash%></li>
<li><%=@secondhash.to_json%></li>
<li><%=@secondhash%></li>
<li></li>
<li><%= @hash %></li> -->
</ul>
<!-- Dropping Basic Map Container -->
<div class='allmaps' style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>
<script type="text/javascript">
handler = Gmaps.build('Google');
handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
  markers = handler.addMarkers(<%=raw @locloc.to_json%>)
  handler.bounds.extendWith(markers);
  handler.fitMapToBounds();
  handler.getMap().setZoom(14);
});
</script>


<%= link_to 'Venues', venues_path %>
<%= link_to 'Edit', edit_venue_path %>
<%= link_to 'Delete', @venue, method: :delete, data: {confirm: 'You sure?'} %>

